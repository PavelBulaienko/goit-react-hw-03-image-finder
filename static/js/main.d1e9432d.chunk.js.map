{"version":3,"sources":["components/ImageGalleryItem.js","components/ImageGallery.js","components/Searchbar.js","components/Button.js","components/LoaderImg.js","components/Modal.js","services/imgFinderAPI.js","components/App.js","index.js"],"names":["ImageGalleryItem","galleryList","length","map","galleryItem","data-largeimageurl","largeImageURL","className","alt","tags","src","webformatURL","id","ImageGallery","fancyBox","onClick","Searchbar","onSubmintHandle","onSubmit","type","autoComplete","autoFocus","placeholder","Button","onBtnClickHandle","LoaderImg","color","height","width","timeout","Component","modalRoot","document","getElementById","Modal","onEscKeydown","e","code","props","closeModal","window","addEventListener","this","removeEventListener","createPortal","children","fetchByQuery","component","a","setState","isLoading","fetch","state","qwery","currentPage","response","json","data","hits","console","log","App","isModalOpen","largeimageurl","preventDefault","target","value","getAttribute","prevState","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","ReactDOM","render"],"mappings":"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","file":"static/js/main.d1e9432d.chunk.js","sourcesContent":["import propTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ galleryList }) => {\r\n  if (galleryList.length !== 0) {\r\n    return galleryList.map((galleryItem) => (\r\n      <li key={galleryItem.id}>\r\n        <img\r\n          data-largeimageurl={galleryItem.largeImageURL}\r\n          className=\"ImageGalleryItem-image\"\r\n          alt={galleryItem.tags}\r\n          src={galleryItem.webformatURL}\r\n        />\r\n      </li>\r\n    ));\r\n  } else {\r\n    return <h1>Type something...</h1>;\r\n  }\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  galleryList: propTypes.arrayOf(propTypes.object),\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from './ImageGalleryItem';\r\nimport propTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ galleryList, fancyBox }) => (\r\n  <ul onClick={fancyBox} className=\"ImageGallery\">\r\n    <ImageGalleryItem galleryList={galleryList} />\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  galleryList: propTypes.arrayOf(propTypes.object),\r\n  fancyBox: propTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import propTypes from 'prop-types';\r\n\r\nconst Searchbar = ({ onSubmintHandle }) => (\r\n  <header className=\"Searchbar\">\r\n    <form className=\"SearchForm\" onSubmit={onSubmintHandle}>\r\n      <button type=\"submit\" className=\"SearchForm-button\">\r\n        <span className=\"SearchForm-button-label\">Search</span>\r\n      </button>\r\n\r\n      <input\r\n        className=\"SearchForm-input\"\r\n        type=\"text\"\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search images and photos\"\r\n      />\r\n    </form>\r\n  </header>\r\n);\r\n\r\nSearchbar.propTypes = {\r\n  onSubmintHandle: propTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import propTypes from 'prop-types';\r\n\r\nconst Button = ({ onBtnClickHandle }) => (\r\n  <button className=\"Button\" onClick={onBtnClickHandle} type=\"button\">\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onBtnClickHandle: propTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nexport default class LoaderImg extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        className=\"Loader\"\r\n        type=\"BallTriangle\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={10000}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport propTypes from 'prop-types';\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nclass Modal extends Component {\r\n  onEscKeydown = (e) => {\r\n    'Escape' === e.code && this.props.closeModal();\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.onEscKeydown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onEscKeydown);\r\n  }\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.props.closeModal}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  closeModal: propTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","const ACCECKEY = '21310790-6d6680180298903e41d8cd1c1';\r\nconst imgPerPage = 12;\r\n\r\nconst fetchByQuery = async (component) => {\r\n  component.setState({ isLoading: true });\r\n  try {\r\n    const response = await fetch(\r\n      `https://pixabay.com/api/?q=${component.state.qwery}&page=${component.state.currentPage}&key=${ACCECKEY}&image_type=photo&orientation=horizontal&per_page=${imgPerPage}`\r\n    );\r\n    const data = await response.json();\r\n\r\n    component.setState({\r\n      galleryList: [...component.state.galleryList, ...data.hits],\r\n      isLoading: false,\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport default fetchByQuery;\r\n","import '../styles/App.css';\nimport { Component } from 'react';\nimport ImageGallery from './ImageGallery';\nimport Searchbar from './Searchbar';\nimport Button from './Button';\nimport LoaderImg from './LoaderImg';\nimport Modal from './Modal';\nimport fetchByQuery from '../services/imgFinderAPI';\n\nclass App extends Component {\n  state = {\n    qwery: '',\n    currentPage: 1,\n    galleryList: [],\n    isLoading: false,\n    isModalOpen: false,\n    largeimageurl: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.qwery !== this.state.qwery) {\n      fetchByQuery(this);\n    }\n    if (prevState.currentPage !== this.state.currentPage) {\n      fetchByQuery(this);\n    }\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onSubmintHandle = (e) => {\n    e.preventDefault();\n    this.setState({\n      galleryList: [],\n      qwery: e.target.children[1].value,\n      currentPage: 1,\n    });\n  };\n\n  fancyBox = (e) => {\n    this.setState({\n      largeimageurl: e.target.getAttribute('data-largeimageurl'),\n      isModalOpen: true,\n    });\n  };\n\n  onBtnClickHandle = (prevState) => {\n    this.setState({ currentPage: prevState.currentPage + 1 });\n  };\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmintHandle={this.onSubmintHandle} />\n        <ImageGallery\n          galleryList={this.state.galleryList}\n          fancyBox={this.fancyBox}\n        />\n        {this.state.galleryList.length !== 0 && !this.state.isLoading && (\n          <Button\n            onBtnClickHandle={() => {\n              this.onBtnClickHandle(this.state);\n            }}\n          />\n        )}\n        {this.state.isLoading && <LoaderImg />}\n        {this.state.isModalOpen && (\n          <Modal closeModal={this.closeModal}>\n            <img src={this.state.largeimageurl} alt=\"pic\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}