(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{17:function(e,t,a){},19:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(7),r=a.n(c),o=(a(17),a(9)),s=a.n(o),i=a(10),l=a(11),u=a(3),d=a(4),h=a(6),m=a(5),g=(a(19),a(0)),j=function(e){var t=e.galleryList;return 0!==t.length?t.map((function(e){return Object(g.jsx)("li",{children:Object(g.jsx)("img",{"data-largeimageurl":e.largeImageURL,className:"ImageGalleryItem-image",alt:e.tags,src:e.webformatURL})},e.id)})):Object(g.jsx)("h1",{children:"Type something..."})},p=function(e){var t=e.galleryList,a=e.fancyBox;return Object(g.jsx)("ul",{onClick:a,className:"ImageGallery",children:Object(g.jsx)(j,{galleryList:t})})},b=function(e){var t=e.onSubmintHandle;return Object(g.jsx)("header",{className:"Searchbar",children:Object(g.jsxs)("form",{className:"SearchForm",onSubmit:t,children:[Object(g.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(g.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(g.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},y=function(e){var t=e.onBtnClickHandle;return Object(g.jsx)("button",{className:"Button",onClick:t,type:"button",children:"Load more"})},f=a(12),O=a.n(f),v=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(g.jsx)(O.a,{className:"Loader",type:"BallTriangle",color:"#00BFFF",height:100,width:100,timeout:1e4})}}]),a}(n.Component),x=document.getElementById("modal-root"),w=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onEscKeydown=function(t){"Escape"===t.code&&e.props.closeModal()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onEscKeydown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onEscKeydown)}},{key:"render",value:function(){return Object(c.createPortal)(Object(g.jsx)("div",{className:"Overlay",onClick:this.props.closeModal,children:Object(g.jsx)("div",{className:"Modal",children:this.props.children})}),x)}}]),a}(n.Component),L=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={qwery:"",currentPage:1,accessKey:"21310790-6d6680180298903e41d8cd1c1",galleryList:[],isLoading:!1,isModalOpen:!1,largeimageurl:""},e.onSubmintHandle=function(t){t.preventDefault(),e.setState({galleryList:[],qwery:t.target.children[1].value,currentPage:1})},e.fetchByQuery=Object(l.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.prev=1,t.next=4,fetch("https://pixabay.com/api/?q=".concat(e.state.qwery,"&page=").concat(e.state.currentPage,"&key=").concat(e.state.accessKey,"&image_type=photo&orientation=horizontal&per_page=12"));case 4:return a=t.sent,t.next=7,a.json();case 7:n=t.sent,e.setState({galleryList:[].concat(Object(i.a)(e.state.galleryList),Object(i.a)(n.hits)),isLoading:!1}),t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(1),t.t0;case 14:case"end":return t.stop()}}),t,null,[[1,11]])}))),e.fancyBox=function(t){e.setState({largeimageurl:t.target.getAttribute("data-largeimageurl"),isModalOpen:!0})},e.onBtnClickHandle=function(t){e.setState({currentPage:t.currentPage+1})},e.closeModal=function(){e.setState({isModalOpen:!1})},e}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.qwery!==this.state.qwery&&this.fetchByQuery(),t.currentPage!==this.state.currentPage&&this.fetchByQuery(),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(b,{onSubmintHandle:this.onSubmintHandle}),Object(g.jsx)(p,{galleryList:this.state.galleryList,fancyBox:this.fancyBox}),0!==this.state.galleryList.length&&!this.state.isLoading&&Object(g.jsx)(y,{onBtnClickHandle:function(){e.onBtnClickHandle(e.state)}}),this.state.isLoading&&Object(g.jsx)(v,{}),this.state.isModalOpen&&Object(g.jsx)(w,{closeModal:this.closeModal,children:Object(g.jsx)("img",{src:this.state.largeimageurl,alt:"pic"})})]})}}]),a}(n.Component);r.a.render(Object(g.jsx)(L,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.884266bc.chunk.js.map