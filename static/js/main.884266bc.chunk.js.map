{"version":3,"sources":["components/ImageGalleryItem.js","components/ImageGallery.js","components/Searchbar.js","components/Button.js","components/LoaderImg.js","components/Modal.js","components/App.js","index.js"],"names":["ImageGalleryItem","galleryList","length","map","galleryItem","data-largeimageurl","largeImageURL","className","alt","tags","src","webformatURL","id","ImageGallery","fancyBox","onClick","Searchbar","onSubmintHandle","onSubmit","type","autoComplete","autoFocus","placeholder","Button","onBtnClickHandle","LoaderImg","color","height","width","timeout","Component","modalRoot","document","getElementById","Modal","onEscKeydown","e","code","props","closeModal","window","addEventListener","this","removeEventListener","createPortal","children","App","state","qwery","currentPage","accessKey","isLoading","isModalOpen","largeimageurl","preventDefault","setState","target","value","fetchByQuery","a","fetch","response","json","data","hits","getAttribute","prevState","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","ReactDOM","render"],"mappings":"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","file":"static/js/main.884266bc.chunk.js","sourcesContent":["import propTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ galleryList }) => {\r\n  if (galleryList.length !== 0) {\r\n    return galleryList.map((galleryItem) => (\r\n      <li key={galleryItem.id}>\r\n        <img\r\n          data-largeimageurl={galleryItem.largeImageURL}\r\n          className=\"ImageGalleryItem-image\"\r\n          alt={galleryItem.tags}\r\n          src={galleryItem.webformatURL}\r\n        />\r\n      </li>\r\n    ));\r\n  } else {\r\n    return <h1>Type something...</h1>;\r\n  }\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  galleryList: propTypes.arrayOf(propTypes.object),\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from './ImageGalleryItem';\r\nimport propTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ galleryList, fancyBox }) => (\r\n  <ul onClick={fancyBox} className=\"ImageGallery\">\r\n    <ImageGalleryItem galleryList={galleryList} />\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  galleryList: propTypes.arrayOf(propTypes.object),\r\n  fancyBox: propTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import propTypes from 'prop-types';\r\n\r\nconst Searchbar = ({ onSubmintHandle }) => (\r\n  <header className=\"Searchbar\">\r\n    <form className=\"SearchForm\" onSubmit={onSubmintHandle}>\r\n      <button type=\"submit\" className=\"SearchForm-button\">\r\n        <span className=\"SearchForm-button-label\">Search</span>\r\n      </button>\r\n\r\n      <input\r\n        className=\"SearchForm-input\"\r\n        type=\"text\"\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search images and photos\"\r\n      />\r\n    </form>\r\n  </header>\r\n);\r\n\r\nSearchbar.propTypes = {\r\n  onSubmintHandle: propTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import propTypes from 'prop-types';\r\n\r\nconst Button = ({ onBtnClickHandle }) => (\r\n  <button className=\"Button\" onClick={onBtnClickHandle} type=\"button\">\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onBtnClickHandle: propTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nexport default class LoaderImg extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        className=\"Loader\"\r\n        type=\"BallTriangle\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={10000}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport propTypes from 'prop-types';\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nclass Modal extends Component {\r\n  onEscKeydown = (e) => {\r\n    'Escape' === e.code && this.props.closeModal();\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.onEscKeydown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onEscKeydown);\r\n  }\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.props.closeModal}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  closeModal: propTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import '../styles/App.css';\nimport { Component } from 'react';\nimport ImageGallery from './ImageGallery';\nimport Searchbar from './Searchbar';\nimport Button from './Button';\nimport LoaderImg from './LoaderImg';\nimport Modal from './Modal';\n\nclass App extends Component {\n  state = {\n    qwery: '',\n    currentPage: 1,\n    accessKey: '21310790-6d6680180298903e41d8cd1c1',\n    galleryList: [],\n    isLoading: false,\n    isModalOpen: false,\n    largeimageurl: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.qwery !== this.state.qwery) {\n      this.fetchByQuery();\n    }\n    if (prevState.currentPage !== this.state.currentPage) {\n      this.fetchByQuery();\n    }\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onSubmintHandle = (e) => {\n    e.preventDefault();\n    this.setState({\n      galleryList: [],\n      qwery: e.target.children[1].value,\n      currentPage: 1,\n    });\n  };\n\n  fetchByQuery = async () => {\n    this.setState({ isLoading: true });\n    try {\n      const response = await fetch(\n        `https://pixabay.com/api/?q=${this.state.qwery}&page=${this.state.currentPage}&key=${this.state.accessKey}&image_type=photo&orientation=horizontal&per_page=12`\n      );\n      const data = await response.json();\n\n      this.setState({\n        galleryList: [...this.state.galleryList, ...data.hits],\n        isLoading: false,\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  fancyBox = (e) => {\n    this.setState({\n      largeimageurl: e.target.getAttribute('data-largeimageurl'),\n      isModalOpen: true,\n    });\n  };\n\n  onBtnClickHandle = (prevState) => {\n    this.setState({ currentPage: prevState.currentPage + 1 });\n  };\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmintHandle={this.onSubmintHandle} />\n        <ImageGallery\n          galleryList={this.state.galleryList}\n          fancyBox={this.fancyBox}\n        />\n        {this.state.galleryList.length !== 0 && !this.state.isLoading && (\n          <Button\n            onBtnClickHandle={() => {\n              this.onBtnClickHandle(this.state);\n            }}\n          />\n        )}\n        {this.state.isLoading && <LoaderImg />}\n        {this.state.isModalOpen && (\n          <Modal closeModal={this.closeModal}>\n            <img src={this.state.largeimageurl} alt=\"pic\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}